# shodan
## 1. shodanとは
- **概 要**
  - shodanは、インターネット上のデバイスをスキャンし、そのバナー情報を収集・インデックス化するWebサイト
  - バナー情報には、デバイスのOS、ソフトウェアのバージョン、開放ポートなどが含まれる
  - 収集された情報は検索可能な形で保存され、ユーザが特定の条件で検索できるようになっている
- **主な検索対象**
  - Webサーバー
  - FTPサーバー
  - メールサーバー
  - ルーター
  - スイッチ
  - IoTデバイス
  - ICS 

## 2.なぜ攻撃者に人気なのか
- **アトリビューションリスクが低い**
  - nmapなどで攻撃者が直接的にターゲットに接触しないため、アトリビューションされずらい
  - 要は捕まりにくい
- **脆弱性の特定が容易**
  - インターネットに接続された脆弱なデバイスや設定ミスのあるシステムを網羅的に、かつ簡単に見つけることができる
- **幅広い検索対象**
  - IoTデバイスやICS、セキュリティカメラ、サーバーなど、様々な種類のデバイスを検索できる
- **位置情報の取得**
  - 検索結果には位置情報も含まれており、標的を絞り込むのに役立つ   
- **自動化と拡張性（スケーラビリティ）**
  - APIを利用することで、大規模なスキャンや自動化された攻撃の準備が可能 

## 3.利用方法
- ブラウザ、CLI、APIを通じて利用可能
- 無料アカウントでも基本的な検索は可能だが、有料プランでより高度な機能を利用できる

## 4.検索テクニック
- **基本的な検索**
  - キーワード検索：apache2やcameraなど単純なキーワードで検索
  - デフォルトでは完全一致となるため、部分一致は行われない
  - 複数キーワードはAND検索として扱われる
  
- **フィルターの活用**
  
| 修飾子 | 内 容 | 例 |
| --- | --- | --- |
| country: | 国別検索 | country:JP |
| city: | 都市別検索 | city:"Tokyo" |
| port: | ポート番号検索 | port:80 |
| os: | OS検索 | os:"Windows Server 2012" |
| hostname: | ホスト名検索 | hostname:"example" |
| net: | IPアドレス/CIDRの範囲で検索 | net:100.100.100.0/24 |
  
- **高度な検索テクニック**
  - **ダブルクォーテーション**
    - スペースを含む文字列を検索するときはダブルクォーテーションで囲う 
    - 例：`os:"Windows Server 2012"`
  - **否定検索**
    - `!`を使う
    - 例：`apache !country:US`  --> apacheを使ってるUS以外の国
  - **プロダクト名で検索**
    - 具体的な製品名で検索
    - 例：`product:"Apache Tomcat/Coyote JSP engin"`
  - **複数フィルターの組み合わせ**
    - 例：`apach city:*San Francisco" port:80`    