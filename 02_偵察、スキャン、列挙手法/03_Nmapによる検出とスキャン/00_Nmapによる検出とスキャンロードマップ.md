# Nmapによる検出とスキャンのロードマップ
## 1.Nmapでできることの列挙
- **ホスト検出**
  - ネットワーク上のアクティブなホストを特定できる
  - ICMPエコー要求やTCP/IPパケットを送信して応答を分析する
- **ポートスキャン**
  - ターゲットホストの空いているポートを列挙する
  - TCP SYNスキャン、TCP Connectスキャンなど様々なスキャン方法がある
- **サービス/バージョン検出**
  - 空いているポートで動作しているアプリケーション名やバージョン番号を特定する
- **OS検出**
  - ターゲットホストのOSとハードウェア特性を推測する
- **スクリプトスキャン**
  - NSEを使用して、脆弱性検出など高度なスキャンが可能
- **FW/IDSの回避**
  - 様々なテクニックを使ってFW/IDSの検知を回避できる
- **ネットワークマッピング**
  - ネットワークトポロジーの可視化に役立つ
- **脆弱性スキャン**
  - 既知の脆弱性を検出するスクリプトを実行できる
- **インベントリ管理**
  - NW上のデバイスやサービスの一覧を作成できる         

## 2.rootとユーザの実行結果の違い
- 結論からいうと、root（sudo）で実行した方がよい。
- 違いは以下の通り
  
| 項 目 | rootユーザ | 一般ユーザ| 備 考 |
| --- | --- | --- | --- |
| デフォルトのスキャンタイプ | SYNスキャン | Connectスキャン |  |
| ターゲットシステムへの影響（ポジティブ） | デフォルトではSYNスキャンで実行されるためハーフオープン接続になるため、ログに残りにくい | 通常の接続になるので、検知システムに検知されにくい |  |
| ターゲットシステムへの影響（ネガティブ） | ハーフオープン接続が異常の通信と見なされると、検知システムに検知される可能性がある | ちゃんとログに残る |  |
| 情報の取得制度 | より詳細で正確 | 取得できる情報が限定的な場合がある |  |
| 利用可能なスキャンタイプ | ほとんどのスキャンタイプが利用可能 | スキャンタイプの指定に一部制限がある場合がある |  |
| スキャン速度と効率 | 効率的かつ高速 | rootユーザに比べると劣る |  |
  
## 3.SANS